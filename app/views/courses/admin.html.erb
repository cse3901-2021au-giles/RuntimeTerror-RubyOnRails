<p id="notice"><%= notice %></p>

<!-- Lets layout know what the title is-->
<% content_for :title, "User Courses"%>
<p> <%= Current.user.fname%></p>

<%= form_with model: @coursesUser, url: do |form| %>
  <% if form.object.errors.any?%>
    <div class="alert alert-danger">
      <% form.object.errors.full_messages.each do |message| %>
        <div><%= message %></div>
      <% end %>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label :first_name %> 
    <%= form.text_field :fname, class: "form-control", placeholder: "John" %>
  </div>
  <div class="mb-3">
    <%= form.label :last_name %>
    <%= form.text_field :lname, class: "form-control", placeholder: "Smith" %>
  </div>
  <div class="mb-3">
    <%= form.label :email %>
    <%= form.text_field :email, class: "form-control", placeholder: "smith.12345@osu.edu" %>
  </div>
  <div class="mb-3">
    <%= form.label :role %>
    <div class="form-check-inline">
      <%= form.label :role_student, "Student" %>
      <%= form.radio_button :role, 1 %> 
    </div>
    <div class="form-check-inline">
      <%= form.label :role_teacher, "Teacher" %>
      <%= form.radio_button :role, 0 %>
    </div>
  </div>
  <div class="mb-3">
    <%= form.label :password %>
    <%= form.password_field :password, class: "form-control", placeholder: "password" %>
  </div>
  <div class="mb-3">
    <%= form.label :password_confirmation %>
    <%= form.password_field :password_confirmation, class: "form-control", placeholder: "password" %>
  </div>
  <div class="mb-3">
    <%= form.submit "Sign Up", class: "btn btn-primary" %>
  </div>
<% end %>

<table>
  <tr>
    <th> Course Name </th>
    <th> Actions </th>
  </tr>
  <% Current.user.courses.each do |c|%>
  <tr>
    <td><%= c.course_name %></td>
    <% if Current.user.role == 1%>
    <td> Leave <td>
    <%else%>
    <td> Delete </td>
    <%end%>
  </tr>
  <%end%>
  <tr>
    <td> Add Class</td>
  </tr>
</table>


<%= link_to 'Back', Current.user %>